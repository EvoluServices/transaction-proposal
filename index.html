
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Transação Remota</title>
    
  <link href="https://br.evoluservices.com/wp-content/themes/Divi../../../uploads/2015/06/evoluservices.png" rel="shortcut icon" type="image/x-icon" />


    <style media="screen">
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f92672;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <style media="print">
      * {
        -webkit-transition:none!important;
        transition:none!important;
      }
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sa, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
    </style>
    <link href="stylesheets/screen-c9d8fa83.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-953e3353.css" rel="stylesheet" media="print" />
      <script src="javascripts/all-e9bde216.js"></script>

  </head>

  <body class="index" data-languages="[&quot;json&quot;,&quot;java&quot;,&quot;csharp&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar-cad8cdcb.png" alt="" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo-f3faf458.png" class="logo" alt="" />
        <div class="lang-selector">
              <a href="#" data-language-name="json">json</a>
              <a href="#" data-language-name="java">java</a>
              <a href="#" data-language-name="csharp">csharp</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#evoluservices-api" class="toc-h1 toc-link" data-title="EvoluServices API">EvoluServices API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#introducao" class="toc-h2 toc-link" data-title="Introdução">Introdução</a>
                  </li>
                  <li>
                    <a href="#suporte-evoluservices" class="toc-h2 toc-link" data-title="Suporte EvoluServices">Suporte EvoluServices</a>
                  </li>
                  <li>
                    <a href="#postman" class="toc-h2 toc-link" data-title="Postman">Postman</a>
                  </li>
                  <li>
                    <a href="#visao-geral-transacao-remota" class="toc-h2 toc-link" data-title="Visão Geral - Transação Remota">Visão Geral - Transação Remota</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#autenticacao" class="toc-h1 toc-link" data-title="Autenticação">Autenticação</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#requisicao-http" class="toc-h2 toc-link" data-title="Requisição HTTP">Requisição HTTP</a>
                  </li>
                  <li>
                    <a href="#header" class="toc-h2 toc-link" data-title="Header">Header</a>
                  </li>
                  <li>
                    <a href="#body" class="toc-h2 toc-link" data-title="Body">Body</a>
                  </li>
                  <li>
                    <a href="#resposta" class="toc-h2 toc-link" data-title="Resposta">Resposta</a>
                  </li>
                  <li>
                    <a href="#erros" class="toc-h2 toc-link" data-title="Erros">Erros</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#transacao-remota" class="toc-h1 toc-link" data-title="Transação Remota">Transação Remota</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#requisicoes" class="toc-h2 toc-link" data-title="Requisições">Requisições</a>
                  </li>
                  <li>
                    <a href="#cria-transacao-remota" class="toc-h2 toc-link" data-title="Cria Transação Remota">Cria Transação Remota</a>
                  </li>
                  <li>
                    <a href="#callback" class="toc-h2 toc-link" data-title="Callback">Callback</a>
                  </li>
                  <li>
                    <a href="#exclui-transacao-remota" class="toc-h2 toc-link" data-title="Exclui Transação Remota">Exclui Transação Remota</a>
                  </li>
                  <li>
                    <a href="#acesso-na-maquininha-pos" class="toc-h2 toc-link" data-title="Acesso na maquininha (POS)">Acesso na maquininha (POS)</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#terminais" class="toc-h1 toc-link" data-title="Terminais">Terminais</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#listar-todos-os-terminais" class="toc-h2 toc-link" data-title="Listar todos os terminais">Listar todos os terminais</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#listar-beneficiarios-do-split-de-pagamentos" class="toc-h1 toc-link" data-title="Listar Beneficiários do Split de Pagamentos">Listar Beneficiários do Split de Pagamentos</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#listar-os-beneficiarios" class="toc-h2 toc-link" data-title="Listar os beneficiários">Listar os beneficiários</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#tabela-de-valores" class="toc-h1 toc-link" data-title="Tabela de valores">Tabela de valores</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#status-da-transacao" class="toc-h2 toc-link" data-title="Status da transação">Status da transação</a>
                  </li>
                  <li>
                    <a href="#status-da-parcela" class="toc-h2 toc-link" data-title="Status da parcela">Status da parcela</a>
                  </li>
                  <li>
                    <a href="#status-do-terminal" class="toc-h2 toc-link" data-title="Status do terminal">Status do terminal</a>
                  </li>
                  <li>
                    <a href="#bandeira" class="toc-h2 toc-link" data-title="Bandeira">Bandeira</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#erros-gerais" class="toc-h1 toc-link" data-title="Erros Gerais">Erros Gerais</a>
          </li>
          <li>
            <a href="#historico-de-revisoes" class="toc-h1 toc-link" data-title="Histórico de revisões">Histórico de revisões</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#v1-0-6" class="toc-h2 toc-link" data-title="v1.0.6"><strong>v1.0.6</strong></a>
                  </li>
                  <li>
                    <a href="#v1-0-5" class="toc-h2 toc-link" data-title="v1.0.5"><strong>v1.0.5</strong></a>
                  </li>
                  <li>
                    <a href="#v1-0-4" class="toc-h2 toc-link" data-title="v1.0.4"><strong>v1.0.4</strong></a>
                  </li>
                  <li>
                    <a href="#v1-0-3" class="toc-h2 toc-link" data-title="v1.0.3"><strong>v1.0.3</strong></a>
                  </li>
                  <li>
                    <a href="#v1-0-2" class="toc-h2 toc-link" data-title="v1.0.2"><strong>v1.0.2</strong></a>
                  </li>
                  <li>
                    <a href="#v1-0-1" class="toc-h2 toc-link" data-title="v1.0.1"><strong>v1.0.1</strong></a>
                  </li>
                  <li>
                    <a href="#v1-0-0" class="toc-h2 toc-link" data-title="v1.0.0"><strong>v1.0.0</strong></a>
                  </li>
              </ul>
          </li>
      </ul>
        <ul class="toc-footer">
            <li>Nossos produtos</li>
            <li><a href='https://www.sejaevo.com.br/'>Evo</a></li>
            <li><a href='https://www.saudeservice.com.br/'>SaudeService</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='evoluservices-api'>EvoluServices API</h1><h2 id='introducao'>Introdução</h2>
<p>O objetivo desta documentação é orientar o desenvolvedor sobre como utilizar nossas APIs para integrar com a solução Evo/SaúdeService de transações Pinpad, descrevendo as funcionalidades, os métodos a serem utilizados, listando informações a serem enviadas e recebidas, e provendo exemplos.</p>

<p>As APIs estão organizadas em torno de um conjunto de endpoints acessíveis via HTTP que recebem e respondem JSON.</p>

<p>Antes do início da operação em ambiente de produção, é necessário passar pelo processo de homologação para que as implementações sejam certificadas junto à EvoluServices. Para maiores informações, por favor, entre em contato com a equipe de suporte.</p>
<h2 id='suporte-evoluservices'>Suporte EvoluServices</h2>
<p>Disponibilizamos uma equipe de Suporte especializada para auxiliá-lo caso tenha alguma dúvida. Para entrar em contato conosco <a href="https://app.pipefy.com/public/form/fSSA2SjJ?qual_o_motivo_do_seu_contato=Estou%20com%20d%C3%BAvidas%20no%20processo%20de%20integra%C3%A7%C3%A3o">clique aqui</a></p>

<p>Caso queira se tornar um Parceiro EvoluServices <a href="https://app.pipefy.com/public/form/fSSA2SjJ?qual_o_motivo_do_seu_contato=Tenho%20interesse%20em%20realizar%20parceria">clique aqui</a></p>
<h2 id='postman'>Postman</h2>
<p>Aqui está uma coleção de requisições de exemplo no <a href="https://www.getpostman.com">Postman</a> para ajudar a se familiarizar mais rapidamente com a nossas APIs.</p>

<p><a href="https://app.getpostman.com/run-collection/dc549a362adbc24ae7f6"><img src="https://run.pstmn.io/button.svg" alt="Run in Postman" /></a></p>
<h3 id='importante'>Importante</h3>
<p>Para usar a requisição de <em>Autenticação</em>, é preciso ter definido, dentro de algum <a href="https://www.getpostman.com/docs/environments">Environment</a>, as seguintes variáveis:</p>

<ul>
<li><code>username</code></li>
<li><code>apiKey</code></li>
</ul>

<p>Para usar as <em>demais requisições</em>, é preciso ter definido, dentro de algum <a href="https://www.getpostman.com/docs/environments">Environment</a>, as seguintes variáveis:</p>

<ul>
<li><code>bearer</code></li>
<li><code>merchantId</code></li>
</ul>
<h2 id='visao-geral-transacao-remota'>Visão Geral - Transação Remota</h2>
<p>A API de transação remota permite que o processamento de transações de cartões de crédito e débito, através de dispositivos físicos (PinPad), seja disparadas por uma chamada HTTP. </p>

<p>Cada transação remota é reconhecida como uma cobrança que deverá ser efetivada através de uma transação. Para realizar a conciliação das cobranças e manter os dados consistentes, ao criar uma nova transação remota, você pode registrar um endereço de retorno (através do parâmetro <code>callbackUrl</code>) que receberá notificações sobre mudanças de estado da transação.</p>
<h1 id='autenticacao'>Autenticação</h1><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="k">private</span> <span class="kt">string</span> <span class="nf">GetToken</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">HttpWebRequest</span> <span class="n">request</span> <span class="p">=</span> <span class="n">HttpWebRequest</span><span class="p">.</span><span class="nf">CreateHttp</span><span class="p">(</span><span class="s">"http://sandbox.evoluservices.com/remote/token"</span><span class="p">);</span>
        <span class="n">request</span><span class="p">.</span><span class="n">Method</span> <span class="p">=</span> <span class="s">"POST"</span><span class="p">;</span>
        <span class="n">request</span><span class="p">.</span><span class="n">ContentType</span> <span class="p">=</span> <span class="s">"application/json"</span><span class="p">;</span>
        <span class="k">using</span> <span class="p">(</span><span class="n">Stream</span> <span class="n">requestStream</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">GetRequestStream</span><span class="p">())</span>
        <span class="p">{</span>
            <span class="kt">string</span> <span class="n">auth</span> <span class="p">=</span> <span class="n">JsonConvert</span><span class="p">.</span><span class="nf">SerializeObject</span><span class="p">(</span><span class="k">new</span> <span class="p">{</span> <span class="n">auth</span> <span class="p">=</span> <span class="k">new</span> <span class="p">{</span> <span class="n">username</span> <span class="p">=</span> <span class="s">"teste"</span><span class="p">,</span> <span class="n">apiKey</span> <span class="p">=</span> <span class="s">"123mudar"</span> <span class="p">}</span> <span class="p">});</span>
            <span class="kt">byte</span><span class="p">[]</span> <span class="n">buffer</span> <span class="p">=</span> <span class="n">Encoding</span><span class="p">.</span><span class="n">ASCII</span><span class="p">.</span><span class="nf">GetBytes</span><span class="p">(</span><span class="n">auth</span><span class="p">);</span>
            <span class="n">requestStream</span><span class="p">.</span><span class="nf">Write</span><span class="p">(</span><span class="n">buffer</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="n">buffer</span><span class="p">.</span><span class="n">Length</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">try</span>
        <span class="p">{</span>
            <span class="k">using</span> <span class="p">(</span><span class="n">WebResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">GetResponse</span><span class="p">())</span>
            <span class="p">{</span>
                <span class="k">using</span> <span class="p">(</span><span class="n">Stream</span> <span class="n">responseStream</span> <span class="p">=</span> <span class="n">response</span><span class="p">.</span><span class="nf">GetResponseStream</span><span class="p">())</span>
                <span class="p">{</span>
                    <span class="k">using</span> <span class="p">(</span><span class="n">StreamReader</span> <span class="n">sr</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamReader</span><span class="p">(</span><span class="n">responseStream</span><span class="p">))</span>
                    <span class="p">{</span>
                        <span class="k">return</span> <span class="n">JsonConvert</span><span class="p">.</span><span class="n">DeserializeObject</span><span class="p">&lt;</span><span class="kt">dynamic</span><span class="p">&gt;(</span><span class="n">sr</span><span class="p">.</span><span class="nf">ReadToEnd</span><span class="p">()).</span><span class="n">Bearer</span><span class="p">.</span><span class="n">Value</span><span class="p">;</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">catch</span> <span class="p">(</span><span class="n">WebException</span> <span class="n">webException</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nf">ApiError</span><span class="p">(</span><span class="n">webException</span><span class="p">.</span><span class="n">Message</span><span class="p">,</span> <span class="p">((</span><span class="n">HttpWebResponse</span><span class="p">)</span><span class="n">webException</span><span class="p">.</span><span class="n">Response</span><span class="p">).</span><span class="n">StatusCode</span><span class="p">,</span> <span class="p">((</span><span class="n">HttpWebResponse</span><span class="p">)</span><span class="n">webException</span><span class="p">.</span><span class="n">Response</span><span class="p">).</span><span class="n">StatusDescription</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">ApiError</span> <span class="p">:</span> <span class="n">Exception</span>
    <span class="p">{</span>
        <span class="k">public</span> <span class="n">HttpStatusCode</span> <span class="n">StatusCode</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
        <span class="k">public</span> <span class="kt">string</span> <span class="n">ReasonPhrase</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>

        <span class="k">public</span> <span class="nf">ApiError</span><span class="p">(</span><span class="kt">string</span> <span class="n">message</span><span class="p">,</span> <span class="n">HttpStatusCode</span> <span class="n">statusCode</span><span class="p">,</span> <span class="kt">string</span> <span class="n">reasonPhrase</span><span class="p">)</span> <span class="p">:</span> <span class="k">base</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">ReasonPhrase</span> <span class="p">=</span> <span class="n">reasonPhrase</span><span class="p">;</span>
            <span class="n">StatusCode</span> <span class="p">=</span> <span class="n">statusCode</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
</code></pre></div>
<p>Os endpoints das APIs são protegidos por um <code>Bearer</code> token que deve ser enviado no cabeçalho das requisições HTTP</p>

<p>Para obter um token de acesso é necessário apresentar as credenciais da sua aplicação ao método <code>POST /remote/token</code>. As credenciais de acesso (username e apiKey) podem ser obtidas entrando em contato com a equipe de suporte.</p>

<p>O token de acesso possui uma data de expiração, mas também pode ser revogado antes do tempo. Sua implementação deve, portanto, ser capaz de tratar a renovação do token e fazer uma nova tentativa caso o token apresentado esteja inválido.</p>
<h3 id='requisicao-http'>Requisição HTTP</h3>
<p><code>POST /remote/token</code></p>
<h3 id='header'>Header</h3>
<p>É necessário especificar no header o tipo de conteúdo enviado no body da requisição.</p>

<p><code>Content-Type</code>: <code>application/json</code></p>

<blockquote>
<p><code>Content-Type application/json</code></p>
</blockquote>
<h3 id='body'>Body</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
 </span><span class="nl">"auth"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
   </span><span class="nl">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"teste"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"apiKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123mudar"</span><span class="w">
 </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Encapsular as propriedades abaixo em um objeto &quot;auth&quot;.</p>

<table><thead>
<tr>
<th>Propriedade</th>
<th>Tipo</th>
<th>Obrigatório</th>
<th>Descrição</th>
</tr>
</thead><tbody>
<tr>
<td><code>username</code></td>
<td>Texto</td>
<td>Sim</td>
<td>Identificador do estabelecimento.</td>
</tr>
<tr>
<td><code>apiKey</code></td>
<td>Texto</td>
<td>Sim</td>
<td>Chave para Autenticação de uso exclusivo do estabelecimento.</td>
</tr>
</tbody></table>
<h3 id='resposta'>Resposta</h3><div class="highlight"><pre class="highlight plaintext"><code>{
    "Bearer": "token"
}
</code></pre></div>
<table><thead>
<tr>
<th>Propriedade</th>
<th>Tipo</th>
<th>Obrigatório</th>
<th>Descrição</th>
</tr>
</thead><tbody>
<tr>
<td><code>Bearer</code></td>
<td>Texto</td>
<td>Sim</td>
<td>Token a ser utilizado no header de criação das transações.</td>
</tr>
</tbody></table>
<h3 id='erros'>Erros</h3>
<p>Os erros desse método são do tipo <code>HTTP 500</code>.</p>

<p><code>Status: 500</code></p>

<blockquote>
<p><code>Status: 500</code></p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>{
   "success": "false",
   "error": "&lt;Error message&gt;"
}
</code></pre></div>
<table><thead>
<tr>
<th>Mensagem</th>
<th>Descrição</th>
</tr>
</thead><tbody>
<tr>
<td><code>USER_TOKEN_NOT_FOUND</code></td>
<td>Verifique se o usuário está correto, ou entre em contato com o suporte para um novo usuário da API.</td>
</tr>
<tr>
<td><code>PASSWORD_INVALID</code></td>
<td>Verifique se a chave da API está correta ou peça uma nova.</td>
</tr>
</tbody></table>
<h1 id='transacao-remota'>Transação Remota</h1><h2 id='requisicoes'>Requisições</h2>
<p>A seguir, é possível ter uma visão geral das requisições que fazem parte dos processos de autenticação, registro de uma transação e retorno dos dados:</p>

<ul>
<li><strong>Autenticação: <code>[POST] /remote/token</code></strong></li>
</ul>

<p>Para acessar os endpoints da API é necessário apresentar o token da sua aplicação que pode ser obtido através deste método, mediante apresentação das credenciais de acesso fornecidas pelo suporte (username e apiKey)</p>

<ul>
<li><strong>Cria uma transação remota: <code>[POST] /remote/transaction</code></strong></li>
</ul>

<p>Cria uma nova transação referente a uma cobrança. Os parâmetros permitem detalhar o modo que a transação será executada e informar o endereço de retorno.</p>

<ul>
<li><strong>Retorno dos dados: Callback</strong></li>
</ul>

<p>Durante todo o ciclo de vida da transação (criação, aprovação/cancelamento, pagamento, etc), os dados da transação referentes às mudanças de estado são enviadas ao endereço informado ao criar a cobrança.
<aside class="notice"> Para as transações remotas na maquininha (POS), a chamada à callback será feita após um período de 10 a 15 minutos do término da transação, visto que a callback só será chamada após a inserção das transações no sistema.
</aside></p>
<h2 id='cria-transacao-remota'>Cria Transação Remota</h2>
<p>Para criar uma transação que utilizará cartão de crédito, é necessário enviar uma requisição utilizando o método <code>POST</code> utilizando no header o token informado além dos dados de uma transação para registro na EvoluServices, conforme o exemplo.</p>

<aside class="notice">Antes de criar um transação, verifique o status do terminal. Veja a seção <a href="#listar-todos-os-terminais">Listar Terminais</a>.</aside>
<h3 id='requisicao-http-2'>Requisição HTTP</h3>
<p><code>POST /remote/transaction</code></p>
<h3 id='header-2'>Header</h3>
<p>É necessário especificar no header o tipo de conteúdo enviado no body da requisição, junto com o Bearer.</p>

<table><thead>
<tr>
<th>Parâmetro</th>
<th>Valor</th>
</tr>
</thead><tbody>
<tr>
<td><code>Content-Type</code></td>
<td><code>application/json</code></td>
</tr>
<tr>
<td><code>Bearer</code></td>
<td><code>TOKEN</code></td>
</tr>
</tbody></table>

<blockquote>
<p><code>Content-Type application/json</code></p>

<p><code>Bearer TOKEN</code></p>
</blockquote>

<aside class="warning">
  A requisição precisa incluir um <b>token de autenticação válido</b> no header.
</aside>
<h3 id='body-2'>Body</h3><div class="highlight"><pre class="highlight java tab-java"><code> <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">IOException</span> <span class="o">{</span>
        <span class="c1">// JSON com as informações de inicio da transação remota</span>
        <span class="nc">String</span> <span class="n">rawData</span> <span class="o">=</span> <span class="s">"{'transaction': { 'merchantId': 'ABC123','value': '10.00','installments': '2','paymentBrand': 'VISA_CREDITO'}}"</span><span class="o">;</span>

        <span class="c1">// Endpoint com somente os atributos necessários setados</span>
        <span class="no">URL</span> <span class="n">u</span> <span class="o">=</span> <span class="k">new</span> <span class="no">URL</span><span class="o">(</span><span class="s">"https://sandbox.evoluservices.com/remote/transaction"</span><span class="o">);</span>
        <span class="nc">HttpURLConnection</span> <span class="n">conn</span> <span class="o">=</span> <span class="o">(</span><span class="nc">HttpURLConnection</span><span class="o">)</span> <span class="n">u</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
        <span class="n">conn</span><span class="o">.</span><span class="na">setDoOutput</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
        <span class="n">conn</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"POST"</span><span class="o">);</span>
        <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json; charset=utf8"</span><span class="o">);</span>
        <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span>
                <span class="s">"Bearer"</span><span class="o">,</span>
                <span class="s">"xyz_456"</span><span class="o">);</span>
        <span class="nc">OutputStream</span> <span class="n">os</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">getOutputStream</span><span class="o">();</span>
        <span class="n">os</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="n">rawData</span><span class="o">.</span><span class="na">toString</span><span class="o">().</span><span class="na">getBytes</span><span class="o">(</span><span class="s">"UTF-8"</span><span class="o">));</span>
        <span class="n">os</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>

        <span class="nc">StringBuilder</span> <span class="n">sb</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">StringBuilder</span><span class="o">();</span>
        <span class="kt">int</span> <span class="nc">HttpResult</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">();</span>

        <span class="c1">// Se o resultado for HTTP OK, recebemos uma mensagem de sucesso</span>
        <span class="k">if</span> <span class="o">(</span><span class="nc">HttpResult</span> <span class="o">==</span> <span class="nc">HttpURLConnection</span><span class="o">.</span><span class="na">HTTP_OK</span><span class="o">)</span> <span class="o">{</span>
            <span class="nc">BufferedReader</span> <span class="n">br</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="nc">InputStreamReader</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">(),</span> <span class="s">"utf-8"</span><span class="o">));</span>

            <span class="nc">String</span> <span class="n">line</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
            <span class="k">while</span> <span class="o">((</span><span class="n">line</span> <span class="o">=</span> <span class="n">br</span><span class="o">.</span><span class="na">readLine</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">sb</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">line</span> <span class="o">+</span> <span class="s">"\n"</span><span class="o">);</span>
            <span class="o">}</span>
            <span class="n">br</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">""</span> <span class="o">+</span> <span class="n">sb</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>

        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
            <span class="c1">// Caso contrário, lemos o código e mensagem de erro</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">());</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseMessage</span><span class="o">());</span>
        <span class="o">}</span>

    <span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="k">private</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">CreateTransaction</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">HttpWebRequest</span> <span class="n">request</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebRequest</span><span class="p">)</span><span class="n">WebRequest</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="s">"http://sandbox.evoluservices.com/remote/transaction"</span><span class="p">);</span>
        <span class="n">request</span><span class="p">.</span><span class="n">Method</span> <span class="p">=</span> <span class="s">"POST"</span><span class="p">;</span>
        <span class="n">request</span><span class="p">.</span><span class="n">ContentType</span> <span class="p">=</span> <span class="s">"application/json"</span><span class="p">;</span>
        <span class="n">request</span><span class="p">.</span><span class="n">Headers</span><span class="p">[</span><span class="s">"Bearer"</span><span class="p">]</span> <span class="p">=</span> <span class="s">"XYZ456"</span><span class="p">;</span>
        <span class="k">using</span> <span class="p">(</span><span class="n">Stream</span> <span class="n">requestStream</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">GetRequestStream</span><span class="p">())</span>
        <span class="p">{</span>
            <span class="kt">string</span> <span class="n">auth</span> <span class="p">=</span> <span class="n">JsonConvert</span><span class="p">.</span><span class="nf">SerializeObject</span><span class="p">(</span><span class="k">new</span> <span class="p">{</span> <span class="n">transaction</span> <span class="p">=</span> <span class="k">new</span> <span class="p">{</span> <span class="n">merchantId</span> <span class="p">=</span> <span class="s">"ABC123"</span><span class="p">,</span> <span class="k">value</span> <span class="p">=</span> <span class="s">"10.00"</span><span class="p">,</span> <span class="n">installments</span> <span class="p">=</span> <span class="s">"2"</span><span class="p">,</span> <span class="n">paymentBrand</span> <span class="p">=</span> <span class="s">"VISA_CREDITO"</span> <span class="p">}</span> <span class="p">});</span>
            <span class="kt">byte</span><span class="p">[]</span> <span class="n">buffer</span> <span class="p">=</span> <span class="n">Encoding</span><span class="p">.</span><span class="n">ASCII</span><span class="p">.</span><span class="nf">GetBytes</span><span class="p">(</span><span class="n">auth</span><span class="p">);</span>
            <span class="n">requestStream</span><span class="p">.</span><span class="nf">Write</span><span class="p">(</span><span class="n">buffer</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="n">buffer</span><span class="p">.</span><span class="n">Length</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="k">try</span>
        <span class="p">{</span>
            <span class="k">using</span> <span class="p">(</span><span class="n">HttpWebResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebResponse</span><span class="p">)</span><span class="n">request</span><span class="p">.</span><span class="nf">GetResponse</span><span class="p">())</span>
            <span class="p">{</span>
                <span class="k">using</span> <span class="p">(</span><span class="n">Stream</span> <span class="n">responseStream</span> <span class="p">=</span> <span class="n">response</span><span class="p">.</span><span class="nf">GetResponseStream</span><span class="p">())</span>
                <span class="p">{</span>
                    <span class="k">using</span> <span class="p">(</span><span class="n">StreamReader</span> <span class="n">sr</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamReader</span><span class="p">(</span><span class="n">responseStream</span><span class="p">))</span>
                    <span class="p">{</span>
                        <span class="kt">dynamic</span> <span class="n">transactionApproved</span> <span class="p">=</span> <span class="n">JsonConvert</span><span class="p">.</span><span class="n">DeserializeObject</span><span class="p">&lt;</span><span class="kt">dynamic</span><span class="p">&gt;(</span><span class="n">sr</span><span class="p">.</span><span class="nf">ReadToEnd</span><span class="p">());</span>
                        <span class="kt">string</span> <span class="n">transactionId</span> <span class="p">=</span> <span class="n">transactionApproved</span><span class="p">.</span><span class="n">transactionId</span><span class="p">.</span><span class="n">Value</span><span class="p">;</span>
                        <span class="n">Debug</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"TransactionID:"</span> <span class="p">+</span> <span class="n">transactionId</span><span class="p">);</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">catch</span> <span class="p">(</span><span class="n">WebException</span> <span class="n">webException</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nf">ApiError</span><span class="p">(</span><span class="n">webException</span><span class="p">.</span><span class="n">Message</span><span class="p">,</span> <span class="p">((</span><span class="n">HttpWebResponse</span><span class="p">)</span><span class="n">webException</span><span class="p">.</span><span class="n">Response</span><span class="p">).</span><span class="n">StatusCode</span><span class="p">,</span> <span class="p">((</span><span class="n">HttpWebResponse</span><span class="p">)</span><span class="n">webException</span><span class="p">.</span><span class="n">Response</span><span class="p">).</span><span class="n">StatusDescription</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">class</span> <span class="nc">ApiError</span> <span class="p">:</span> <span class="n">Exception</span>
    <span class="p">{</span>
        <span class="k">public</span> <span class="n">HttpStatusCode</span> <span class="n">StatusCode</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
        <span class="k">public</span> <span class="kt">string</span> <span class="n">ReasonPhrase</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>

        <span class="k">public</span> <span class="nf">ApiError</span><span class="p">(</span><span class="kt">string</span> <span class="n">message</span><span class="p">,</span> <span class="n">HttpStatusCode</span> <span class="n">statusCode</span><span class="p">,</span> <span class="kt">string</span> <span class="n">reasonPhrase</span><span class="p">)</span> <span class="p">:</span> <span class="k">base</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">ReasonPhrase</span> <span class="p">=</span> <span class="n">reasonPhrase</span><span class="p">;</span>
            <span class="n">StatusCode</span> <span class="p">=</span> <span class="n">statusCode</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"transaction"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> 
    </span><span class="nl">"merchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;id&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"terminalId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;id&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"paymentBrand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VISA_CREDITO"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"callbackUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;url&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"clientName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;name&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"installmentsCanChange"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"clientEmail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;email&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"splits"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;code&gt;"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2.00"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"chargeFees"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">},</span><span class="w">  </span><span class="p">{</span><span class="w">
      </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;code&gt;"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.00"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"chargeFees"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Propriedade</th>
<th>Tipo</th>
<th>Obrigatório</th>
<th>Descrição</th>
<th>Validação</th>
</tr>
</thead><tbody>
<tr>
<td><code>merchantId</code></td>
<td>Texto</td>
<td>Sim</td>
<td>Identificador do estabelecimento (obtido junto ao suporte).</td>
<td><code>[0-9A-Za-z]+</code></td>
</tr>
<tr>
<td><code>terminalId</code></td>
<td>Texto</td>
<td>Não</td>
<td>Id do terminal reponsável por processar a transação. Caso especificado, a transação iniciará automaticamente, caso contrário, uma notificação será exibida nos dispositivos habilitados. A lista de ids pode ser obtida através do método <a href="#listar-todos-os-terminais">Listar terminais</a></td>
<td><code>[0-9A-Za-z+/*]{6,300}</code></td>
</tr>
<tr>
<td><code>value</code></td>
<td>Número</td>
<td>Sim</td>
<td>Valor do orçamento (em decimal, com o &quot;.&quot; como separador e 2 casas decimais).</td>
<td><code>\d+\.\d{2}</code></td>
</tr>
<tr>
<td><code>installments</code></td>
<td>Número</td>
<td>Não</td>
<td>Número de parcelas</td>
<td><code>\d{1,9}</code></td>
</tr>
<tr>
<td><code>paymentBrand</code></td>
<td>Texto</td>
<td>Não</td>
<td>Bandeira do cartão. Se o número de parcelas for especificado, a bandeira se torna <em>obrigatória</em>.</td>
<td><a href="#bandeira">Tabela de bandeiras</a></td>
</tr>
<tr>
<td><code>callbackUrl</code></td>
<td>Texto</td>
<td>Não</td>
<td>URL de retorno com os dados da transação após processamento. A URL deve ser https.</td>
<td><a href="https://commons.apache.org/proper/commons-validator/apidocs/org/apache/commons/validator/routines/UrlValidator.html">URLValidator</a> (Com schema apenas <code>https</code>)</td>
</tr>
<tr>
<td><code>clientName</code></td>
<td>Texto</td>
<td>Não</td>
<td>Nome do cliente final ao qual a transação pertence. Apesar de não obrigatório, recomenda-se fortemente que esse campo se preenchido.</td>
<td><code>[0-9A-Za-záéíóúÁÉÍÓÚàèìòùÀÈÌÒÙâêîôûÂÊÎÔÛãõÃÕçÇäëïöüÄËÏÖÜ&amp;!() #%@$+&#39;,-.]+</code></td>
</tr>
<tr>
<td><code>installmentsCanChange</code></td>
<td>Booleano</td>
<td>Não</td>
<td>Define se o número de parcelas e a bandeira da transação podem ou não ser alterados pelo cliente.</td>
<td><code>(true&#124;false)</code></td>
</tr>
<tr>
<td><code>clientEmail</code></td>
<td>Texto</td>
<td>Não</td>
<td>Email do cliente, para onde pode ser enviado o comprovante da venda, opcionalmente</td>
<td><code>.+</code></td>
</tr>
<tr>
<td><code>splits</code></td>
<td>Lista de objetos</td>
<td>Não</td>
<td>Lista contendo informações de split de pagamento para cada beneficiário.</td>
<td>Ver <i>Parâmetros do Split</i> abaixo.</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">//</span><span class="w"> </span><span class="err">Exemplos</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"paymentBrand"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"MAESTRO"</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">Transação</span><span class="w"> </span><span class="err">de</span><span class="w"> </span><span class="err">débito</span><span class="w">
</span><span class="p">}</span><span class="err">,</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"paymentBrand"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"MASTERCARD"</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">Transação</span><span class="w"> </span><span class="err">de</span><span class="w"> </span><span class="err">crédito</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<aside class="notice">Para especificar o tipo de cobrança (crédito/débito) da transação remota na maquininha (POS), utilize o campo 'paymentBrand' com uma bandeira referente ao tipo desejado. Consulte a tabela de bandeiras para os demais
casos.
</aside>
<h3 id='parametros-do-split'>Parâmetros do split</h3>
<table><thead>
<tr>
<th>Propriedade</th>
<th>Tipo</th>
<th>Obrigatório</th>
<th>Descrição</th>
<th>Validação</th>
</tr>
</thead><tbody>
<tr>
<td><code>code</code></td>
<td>Texto</td>
<td>Sim</td>
<td>Código do beneficiário.</td>
<td><code>[0-9]+</code></td>
</tr>
<tr>
<td><code>value</code></td>
<td>Número</td>
<td>Sim</td>
<td>Valor do split destinado ao beneficiário.</td>
<td><code>\d+\.\d{2}</code></td>
</tr>
<tr>
<td><code>chargeFees</code></td>
<td>Booleano</td>
<td>Não</td>
<td>Define se aplica taxas sobre o valor do split ou não. Considera como <code>true</code>, caso o campo não seja definido.</td>
<td><code>(true&#124;false)</code></td>
</tr>
</tbody></table>

<aside class="warning">
  A URL de callback tem que ser https.
</aside>
<h3 id='resposta-2'>Resposta</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="s2">"REMOTE_TRANSACTION_SUCCESS"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"transactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NTcwMA*3"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><strong>Em caso de sucesso</strong>, retorna Status 200 e o json contendo transactionId e mensagem de sucesso.</p>
<h3 id='erros-2'>Erros</h3>
<p><code>Status: 500</code></p>

<blockquote>
<p><code>Status: 500</code></p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>{
   "success": "false",
   "error": "&lt;Error message&gt;"
}
</code></pre></div>
<table><thead>
<tr>
<th>Mensagem</th>
<th>Descrição</th>
</tr>
</thead><tbody>
<tr>
<td><code>PAYMENT_BRAND_ID_INVALID</code></td>
<td>A bandeira não existe.</td>
</tr>
<tr>
<td><code>INSTALLMENTS_INVALID_FOR_DEBIT</code></td>
<td>Cartão de débito não pode ter mais de uma parcela.</td>
</tr>
<tr>
<td><code>INVALID_PAYMENT_BRAND</code></td>
<td>A bandeira não está habilitada para o estabelecimento.</td>
</tr>
<tr>
<td><code>INVALID_INSTALLMENTS_QUANTITY_OR_VALUE</code></td>
<td>O número de parcelas ou valor minimo da parcela não é aceito pelo estabelecimento.</td>
</tr>
<tr>
<td><code>MERCHANT_ID_INVALID</code></td>
<td>Id do estabelecimento não existe.</td>
</tr>
<tr>
<td><code>TERMINAL_ID_INVALID</code></td>
<td>Id do terminal não existe.</td>
</tr>
<tr>
<td><code>MERCHANT_TERMINAL_INVALID</code></td>
<td>Terminal do estabelecimento não está apto a receber transações remotas</td>
</tr>
<tr>
<td><code>VALUE_FIELD_INVALID</code></td>
<td>Formato do campo <code>value</code> inválido</td>
</tr>
<tr>
<td><code>NAME_CLIENT_INVALID</code></td>
<td>Campo <code>clientName</code> inválido</td>
</tr>
<tr>
<td><code>SPLIT_SUM_GREATER_THAN_TRANSACTION_VALUE</code></td>
<td>A soma dos valores do split ultrapassam o valor total a receber.</td>
</tr>
<tr>
<td><code>SUPPLIER_NOT_FOUND</code></td>
<td>O código informado não corresponde a um beneficiário existente</td>
</tr>
<tr>
<td><code>SUPPLIER_INVALID</code></td>
<td>O beneficiário informado não está conectado ao estabelecimento</td>
</tr>
</tbody></table>
<h2 id='callback'>Callback</h2>
<p>Se uma URL for enviada ao criar a transação, um JSON contendo os dados a seguir será enviado via POST quando o status da transação for alterado.</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> 
  </span><span class="nl">"remoteTransactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;id&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"APPROVED"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"merchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;id&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"paymentBrand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VISA_CREDITO"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"transactionNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;transactionNumber&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"paymentQuantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"clientName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CLIENT_NOT_INFORMED"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"terminalId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;id&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"payments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UNPAID"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="mf">4.95</span><span class="p">,</span><span class="w">
      </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"21/12/2016"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"recipientName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;name&gt;"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"recipientDocument"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;document&gt;"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UNPAID"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="mf">4.95</span><span class="p">,</span><span class="w">
      </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"21/01/2017"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"recipientName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;name&gt;"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"recipientDocument"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;document&gt;"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"splits"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UNPAID"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.35</span><span class="p">,</span><span class="w">
      </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"02/02/2020"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"recipientName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;name&gt;"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"recipientDocument"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;document&gt;"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UNPAID"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="mf">3.15</span><span class="p">,</span><span class="w">
      </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"02/03/2020"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"recipientName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;name&gt;"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"recipientDocument"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;document&gt;"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Propriedade</th>
<th>Tipo</th>
<th>Descrição</th>
</tr>
</thead><tbody>
<tr>
<td><code>remoteTransactionId</code></td>
<td>Texto</td>
<td>Identificador da transação.</td>
</tr>
<tr>
<td><code>transactionNumber</code></td>
<td>Texto</td>
<td>Número da transação.</td>
</tr>
<tr>
<td><code>status</code></td>
<td>Texto</td>
<td>Status da transação (consulte <a href="#tabela-de-valores">a tabela de valores de status</a>).</td>
</tr>
<tr>
<td><code>merchantId</code></td>
<td>Número</td>
<td>Identificador do estabelecimento.</td>
</tr>
<tr>
<td><code>value</code></td>
<td>Número</td>
<td>Valor total da transação.</td>
</tr>
<tr>
<td><code>paymentBrand</code></td>
<td>Texto</td>
<td>Bandeira do cartão (para lista consulte <a href="#bandeira">tabela de bandeiras</a>).</td>
</tr>
<tr>
<td><code>terminalId</code></td>
<td>Texto</td>
<td>ID do terminal.</td>
</tr>
<tr>
<td><code>payments</code></td>
<td>Lista de objetos</td>
<td>Pagamentos aos estabelecimentos da transação.</td>
</tr>
<tr>
<td><code>paymentQuantity</code></td>
<td>Número</td>
<td>Número de pagamentos ao estabelecimento.</td>
</tr>
<tr>
<td><code>splits</code></td>
<td>Lista de objetos</td>
<td>Informações ligadas aos splits de pagamento.</td>
</tr>
<tr>
<td><code>clientName</code></td>
<td>Texto</td>
<td>Nome do cliente que passou a transação, quando fornecido.</td>
</tr>
<tr>
<td><code>NSU</code></td>
<td>Número</td>
<td>NSU da transação, disponível apenas depois de aprovada.</td>
</tr>
<tr>
<td><code>authorizationNumber</code></td>
<td>Número</td>
<td>Número de autorização da transação, disponível apenas depois de aprovada.</td>
</tr>
</tbody></table>
<h3 id='parametros-dos-pagamentos-aos-estabelecimentos-e-dos-splits'>Parâmetros dos pagamentos aos estabelecimentos e dos splits</h3>
<table><thead>
<tr>
<th>Propriedade</th>
<th>Tipo</th>
<th>Descrição</th>
</tr>
</thead><tbody>
<tr>
<td><code>status</code></td>
<td>Texto</td>
<td>Status do pagamento.</td>
</tr>
<tr>
<td><code>value</code></td>
<td>Número</td>
<td>Valor destinado ao estabelecimento ou ao beneficiário, no caso do split.</td>
</tr>
<tr>
<td><code>number</code></td>
<td>Número</td>
<td>Número do pagamento.</td>
</tr>
<tr>
<td><code>date</code></td>
<td>Texto</td>
<td>Data estimada de pagamento.</td>
</tr>
<tr>
<td><code>recipientName</code></td>
<td>Texto</td>
<td>Nome do estabelecimento ou do beneficiário, no caso do split.</td>
</tr>
<tr>
<td><code>recipientDocument</code></td>
<td>Texto</td>
<td>Documento do estabelecimento ou do beneficiário, no caso do split.</td>
</tr>
</tbody></table>

<aside class="notice">Veja a seção <a href="#tabela-de-valores">Tabela de Valores</a> para os possíveis status da transação e do pagamento.</aside>
<h2 id='exclui-transacao-remota'>Exclui Transação Remota</h2>
<p>É possivel remover transações remotas que ainda não foram processadas, enviando uma requisição do tipo
Delete para a URL raiz da transação remota.</p>
<h3 id='requisicao-http-3'>Requisição HTTP</h3>
<p><code>DELETE /remote/{id}</code></p>
<h3 id='parametros-da-url'>Parâmetros da URL</h3>
<table><thead>
<tr>
<th>Parâmetro</th>
<th>Descrição</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code></td>
<td>Identificador da transação remota (retornada na requisição da transação).</td>
</tr>
</tbody></table>

<aside class="warning">
  A requisição precisa incluir um <b>token de autenticação válido</b> no header.
</aside>
<h3 id='erros-3'>Erros</h3>
<p>Os erros desse método são do tipo <code>HTTP 500</code></p>

<p><code>Status: 500</code></p>

<blockquote>
<p><code>Status: 500</code></p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>{
   "success": "false",
   "error": "&lt;Error message&gt;"
}
</code></pre></div>
<table><thead>
<tr>
<th>Mensagem</th>
<th>Descrição</th>
</tr>
</thead><tbody>
<tr>
<td><code>INEXISTENT_REMOTE_TRANSACTION</code></td>
<td>Transação remota inexistente</td>
</tr>
<tr>
<td><code>REMOTE_TRANSACTION_ALREADY_PROCESSED</code></td>
<td>Já foi iniciado o processamento da transação remota</td>
</tr>
<tr>
<td><code>ID_INVALID</code></td>
<td>Id da transação inválido</td>
</tr>
</tbody></table>
<h2 id='acesso-na-maquininha-pos'>Acesso na maquininha (POS)</h2>
<p>É possível acessar as transações remotas pela máquininha através do menu Operações &gt; Operações remotas. Caso não haja esta opção, vá no menu Contas &gt; Encerrar Sessão e autentique-se novamente.
<aside class="notice">Esta funcionalidade está disponível a partir da versão 1.5.0.</aside></p>
<h1 id='terminais'>Terminais</h1><h2 id='listar-todos-os-terminais'>Listar todos os terminais</h2>
<p>Retorna os terminais do estabelecimento que estão aptos a receber transação remota.</p>
<h3 id='requisicao-http-4'>Requisição HTTP</h3>
<p><code>GET /remote/merchants/{merchantCode}/terminals</code></p>
<h3 id='header-3'>Header</h3>
<p>Você deve especificar no cabeçalho da requisição o tipo de conteúdo enviado no corpo, bem como o token de acesso.</p>

<table><thead>
<tr>
<th>Parâmetro</th>
<th>Valor</th>
</tr>
</thead><tbody>
<tr>
<td><code>Content-Type</code></td>
<td><code>application/json</code></td>
</tr>
<tr>
<td><code>Bearer</code></td>
<td><code>TOKEN</code></td>
</tr>
</tbody></table>

<blockquote>
<p><code>Content-Type application/json</code></p>

<p><code>Bearer TOKEN</code></p>
</blockquote>
<h3 id='parametros-da-url-2'>Parâmetros da URL</h3>
<table><thead>
<tr>
<th>Parâmetro</th>
<th>Descrição</th>
</tr>
</thead><tbody>
<tr>
<td><code>merchantCode</code></td>
<td>O código do estabelecimento (obtido junto ao suporte).</td>
</tr>
</tbody></table>
<h3 id='resposta-3'>Resposta</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"macAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8d:c1:d3:12:14:bb"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"computerName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DESKTOP"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"terminalId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AA009999"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"terminalStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ONLINE"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th><div style="width:100px">Propriedade</div></th>
<th>Tipo</th>
<th>Descrição</th>
</tr>
</thead><tbody>
<tr>
<td><code>macAddress</code></td>
<td>Texto</td>
<td>O endereço físico (MAC Address) associado ao terminal.</td>
</tr>
<tr>
<td><code>computerName</code></td>
<td>Texto</td>
<td>O nome do computador associado ao terminal.</td>
</tr>
<tr>
<td><code>terminalId</code></td>
<td>Texto</td>
<td>O id do terminal que pode ser utilizado como parâmetro para <a href="#cria-transa-o-remota">iniciar uma transação remota</a>.</td>
</tr>
<tr>
<td><code>terminalStatus</code></td>
<td>Texto</td>
<td>O status do terminal (consulte <a href="#status-do-terminal">a tabela de valores</a>).</td>
</tr>
</tbody></table>
<h3 id='erros-4'>Erros</h3>
<p>Os erros desse método são do tipo <code>HTTP 401</code> e <code>HTTP 500</code></p>

<p><code>Status: 401</code></p>

<blockquote>
<p><code>Status: 401</code></p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>{
   "success": "false",
   "error": "&lt;Error message&gt;"
}
</code></pre></div>
<table><thead>
<tr>
<th>Mensagem</th>
<th>Descrição</th>
</tr>
</thead><tbody>
<tr>
<td><code>INVALID_TOKEN</code></td>
<td>Token inválido.</td>
</tr>
</tbody></table>

<aside class="notice">Para o erro acima peça um novo token de <a href="#autentica-o">/token</a>.</aside>
<h1 id='listar-beneficiarios-do-split-de-pagamentos'>Listar Beneficiários do Split de Pagamentos</h1><h2 id='listar-os-beneficiarios'>Listar os beneficiários</h2>
<p>Retorna a lista de beneficiários aptos a receber splits de pagamentos para este estabelecimento.</p>
<h3 id='requisicao-http-5'>Requisição HTTP</h3>
<p><code>GET /remote/merchants/{merchantCode}/recipients</code></p>
<h3 id='header-4'>Header</h3>
<p>Você deve especificar no cabeçalho da requisição o tipo de conteúdo enviado no corpo, bem como o token de acesso.</p>

<table><thead>
<tr>
<th>Parâmetro</th>
<th>Valor</th>
</tr>
</thead><tbody>
<tr>
<td><code>Content-Type</code></td>
<td><code>application/json</code></td>
</tr>
<tr>
<td><code>Bearer</code></td>
<td><code>TOKEN</code></td>
</tr>
</tbody></table>

<blockquote>
<p><code>Content-Type application/json</code></p>

<p><code>Bearer TOKEN</code></p>
</blockquote>
<h3 id='parametros-da-url-3'>Parâmetros da URL</h3>
<table><thead>
<tr>
<th>Parâmetro</th>
<th>Descrição</th>
</tr>
</thead><tbody>
<tr>
<td><code>merchantCode</code></td>
<td>O código do estabelecimento (obtido junto ao suporte).</td>
</tr>
</tbody></table>
<h3 id='resposta-4'>Resposta</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;name&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"document"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;document&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;code&gt;"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th><div style="width:100px">Propriedade</div></th>
<th>Tipo</th>
<th>Descrição</th>
</tr>
</thead><tbody>
<tr>
<td><code>name</code></td>
<td>Texto</td>
<td>O nome do beneficiário.</td>
</tr>
<tr>
<td><code>document</code></td>
<td>Texto</td>
<td>O documento do beneficiário.</td>
</tr>
<tr>
<td><code>code</code></td>
<td>Texto</td>
<td>O código do beneficiário.</td>
</tr>
</tbody></table>
<h3 id='erros-5'>Erros</h3>
<p>Os erros desse método são do tipo <code>HTTP 401</code> e <code>HTTP 500</code></p>

<p><code>Status: 401</code></p>

<blockquote>
<p><code>Status: 401</code></p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>{
   "success": "false",
   "error": "&lt;Error message&gt;"
}
</code></pre></div>
<table><thead>
<tr>
<th>Mensagem</th>
<th>Descrição</th>
</tr>
</thead><tbody>
<tr>
<td><code>INVALID_TOKEN</code></td>
<td>Token inválido.</td>
</tr>
<tr>
<td><code>MERCHANT_CODE_INVALID</code></td>
<td>Código do estabelecimento inválido.</td>
</tr>
</tbody></table>

<aside class="notice">Para o erro INVALID_TOKEN peça um novo token de <a href="#autentica-o">/token</a>.</aside>
<h1 id='tabela-de-valores'>Tabela de valores</h1><h2 id='status-da-transacao'>Status da transação</h2>
<table><thead>
<tr>
<th>Status da Transação</th>
<th>Motivo</th>
</tr>
</thead><tbody>
<tr>
<td><code>APPROVED</code></td>
<td>Transação aprovada com sucesso</td>
</tr>
<tr>
<td><code>CANCELLED</code></td>
<td>Transação cancelada pelo estabelecimento</td>
</tr>
<tr>
<td><code>ABORTED</code></td>
<td>Transação abortada devido a erros durante o processamento</td>
</tr>
<tr>
<td><code>ABORTED_BY_MERCHANT</code></td>
<td>Transação abortada pelo estabelecimento</td>
</tr>
<tr>
<td><code>PARTIALLY_CANCELLED</code></td>
<td>Transação parcialmente cancelada</td>
</tr>
</tbody></table>

<aside class="notice">
Além dos valores acima, também possuímos alguns status para controle interno tais como: COMPLETE, INCOMPLETE, CANCEL_REQUESTED, entre outros mas não devem ser considerados na modelagem pois podem ser alterados a qualquer instante
</aside>
<h2 id='status-da-parcela'>Status da parcela</h2>
<table><thead>
<tr>
<th>Status da Transação</th>
<th>Motivo</th>
</tr>
</thead><tbody>
<tr>
<td><code>PAYED</code></td>
<td>Parcela paga</td>
</tr>
<tr>
<td><code>UNPAID</code></td>
<td>Parcela a pagar</td>
</tr>
<tr>
<td><code>ANTICIPATION_REQUESTED</code></td>
<td>Antecipação da parcela solicitada</td>
</tr>
<tr>
<td><code>ANTICIPATED</code></td>
<td>Antecipação da parcela paga</td>
</tr>
<tr>
<td><code>CANCEL_REQUESTED</code></td>
<td>Cancelamento da parcela solicitado</td>
</tr>
<tr>
<td><code>CANCELLED</code></td>
<td>Parcela cancelada</td>
</tr>
</tbody></table>
<h2 id='status-do-terminal'>Status do terminal</h2>
<table><thead>
<tr>
<th><div style="width:120px">Status do Terminal</div></th>
<th>Motivo</th>
</tr>
</thead><tbody>
<tr>
<td><code>ONLINE</code></td>
<td>Terminal pronto para receber transações.</td>
</tr>
<tr>
<td><code>ONLINE_DIFFERENT_ACCOUNT</code></td>
<td>Terminal está sendo utilizado por outro estabelecimento. Se o terminal está na versão 4.14 ou superior, está apto a receber transações.</td>
</tr>
<tr>
<td><code>OFFLINE</code></td>
<td>Terminal desligado. Transações não serão processadas até que o terminal fique ONLINE (ou ONLINE_DIFFERENT_ACCOUNT para versões superiores a v4.14).</td>
</tr>
<tr>
<td><code>UNKNOWN</code></td>
<td>Terminal em estado desconhecido (retornado para os terminais com versões anteriores a v4.0).</td>
</tr>
</tbody></table>
<h2 id='bandeira'>Bandeira</h2>
<table><thead>
<tr>
<th>String da Bandeira</th>
<th>Nome da bandeira</th>
</tr>
</thead><tbody>
<tr>
<td><code>VISA_CREDITO</code></td>
<td>Visa</td>
</tr>
<tr>
<td><code>VISA_ELECTRON</code></td>
<td>Visa Electron (Débito)</td>
</tr>
<tr>
<td><code>MASTERCARD</code></td>
<td>MasterCard</td>
</tr>
<tr>
<td><code>MAESTRO</code></td>
<td>MasterCard Maestro (Débito)</td>
</tr>
<tr>
<td><code>AMEX</code></td>
<td>American Express</td>
</tr>
<tr>
<td><code>DINERS</code></td>
<td>Diners</td>
</tr>
<tr>
<td><code>HIPERCARD</code></td>
<td>Hipercard</td>
</tr>
<tr>
<td><code>AURA</code></td>
<td>Aura</td>
</tr>
<tr>
<td><code>SOROCRED</code></td>
<td>Sorocred</td>
</tr>
<tr>
<td><code>ELO</code></td>
<td>Elo</td>
</tr>
<tr>
<td><code>SICREDI</code></td>
<td>Sicred</td>
</tr>
<tr>
<td><code>ELO_DEBITO</code></td>
<td>Elo Débito</td>
</tr>
<tr>
<td><code>HIPER</code></td>
<td>Hiper</td>
</tr>
<tr>
<td><code>AGIPLAN</code></td>
<td>Agiplan</td>
</tr>
<tr>
<td><code>BANESCARD</code></td>
<td>Banescard</td>
</tr>
<tr>
<td><code>CREDZ</code></td>
<td>CredZ</td>
</tr>
<tr>
<td><code>JCB</code></td>
<td>JCB</td>
</tr>
<tr>
<td><code>CABAL</code></td>
<td>Cabal</td>
</tr>
<tr>
<td><code>MAIS</code></td>
<td>Mais</td>
</tr>
</tbody></table>
<h1 id='erros-gerais'>Erros Gerais</h1>
<p>Códigos retornados em caso de erro, identificando o motivo do erro e suas respectivas mensagens.</p>

<p>Os erros desse método são do tipo <code>HTTP 401</code> e <code>HTTP 500</code></p>

<p><code>Status: 401</code></p>

<blockquote>
<p><code>Status: 401</code></p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>{
   "success": "false",
   "error": "&lt;Error message&gt;"
}
</code></pre></div>
<table><thead>
<tr>
<th>Mensagem</th>
<th>Descrição</th>
</tr>
</thead><tbody>
<tr>
<td><code>REVOKED_TOKEN</code></td>
<td>O token foi revogado antes da data de expiração.</td>
</tr>
<tr>
<td><code>INVALID_TOKEN</code></td>
<td>O token informado não é igual ao cadastrado.</td>
</tr>
<tr>
<td><code>EXPIRED_TOKEN</code></td>
<td>O token não tem mais validade.</td>
</tr>
</tbody></table>

<aside class="notice">Para qualquer um dos casos acima peça um novo token de <a href="#autentica-o">/token</a>.</aside>

<p><code>Status: 500</code></p>

<blockquote>
<p><code>Status: 500</code></p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>{
   "success": "false",
   "error": "&lt;Error message&gt;"
}
</code></pre></div>
<table><thead>
<tr>
<th>Mensagem</th>
<th>Descrição</th>
</tr>
</thead><tbody>
<tr>
<td><code>MERCHANT_NOT_FOUND</code></td>
<td>Estabelecimento não encontrado.</td>
</tr>
</tbody></table>

<aside class="notice">Verifique se o ID do estabelecimento está correto. Se o problema persistir, entre em contato com o suporte.</aside>
<h1 id='historico-de-revisoes'>Histórico de revisões</h1><h3 id='v1-0-6'><strong>v1.0.6</strong></h3>
<ul>
<li>Adição de informações sobre a transação remota na maquininha (POS)</li>
</ul>
<h3 id='v1-0-5'><strong>v1.0.5</strong></h3>
<ul>
<li>Adição do split da transação remota</li>
</ul>
<h3 id='v1-0-4'><strong>v1.0.4</strong></h3>
<ul>
<li>Adição de número de autorização na callback</li>
</ul>
<h3 id='v1-0-3'><strong>v1.0.3</strong></h3>
<ul>
<li>Adição do botão &quot;Run in Postman&quot; com uma coleção de requisições de exemplo</li>
</ul>
<h3 id='v1-0-2'><strong>v1.0.2</strong></h3>
<ul>
<li>Alteração na descrição do parâmetro <code>paymentBrand</code> para indicar sua obrigatoriedade caso o número de parcelas for informado</li>
<li>Adição da coluna <code>validação</code> na lista de parâmetros ao <a href="#cria-transa-o-remota">criar uma transação remota</a></li>
</ul>
<h3 id='v1-0-1'><strong>v1.0.1</strong></h3>
<ul>
<li>Descrição do parâmetro TerminalId do método <a href="#cria-transa-o-remota">RemoteTransaction #create</a></li>
<li>Adição do endpoint <a href="#terminais">Terminal #list</a></li>
</ul>
<h3 id='v1-0-0'><strong>v1.0.0</strong></h3>
<ul>
<li>Versão incial da documentação</li>
</ul>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="json">json</a>
                <a href="#" data-language-name="java">java</a>
                <a href="#" data-language-name="csharp">csharp</a>
          </div>
      </div>
    </div>
  </body>
</html>
